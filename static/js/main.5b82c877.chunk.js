(this["webpackJsonp@open-rpc/logs-react"]=this["webpackJsonp@open-rpc/logs-react"]||[]).push([[1],{319:function(e,t,a){e.exports=a(413)},326:function(e,t,a){},401:function(e,t,a){},410:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(72),r=a.n(n),o=a(2),i=a.n(o),c=a(98),l=a(447),s=a(464),p=a(463),m=a(223),u=function(e){return Object(m.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},palette:{type:e?"dark":"light"},overrides:{MuiAppBar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}}}})},d=(a(326),a(210)),f=a(473),g=a(112),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.palette.type,r={backgroundColor:t.palette.success[n]};return a?(r.backgroundColor=t.palette.info[n],r.marginRight=t.spacing(1),r):"request"===e.type?(r.backgroundColor=t.palette.primary[n],r):e.payload.error?(r.backgroundColor=t.palette.common.white,r.color=t.palette.error.main,r):r},b=i.a.memo((function(e){var t=Object(g.a)();return i.a.createElement(i.a.Fragment,null,e.log.notification&&i.a.createElement(f.a,{label:"notification",style:h(e.log,t,!0)}),i.a.createElement(f.a,{label:e.log.type,style:h(e.log,t)}))})),y=a(465),v=a(466),j=a(471),O=a(449),E=a(450),w=a(152),D=a(451),S=a(472),k=a(452),C=a(474),N=a(454),x=a(455),R=a(297),q=a(303),P=a(304),J=a.n(P),L=a(307),I=a.n(L),M=a(309),B=a.n(M),F=(a(401),a(467)),T=function(e){return i.a.createElement(F.a,Object.assign({elevation:6,variant:"filled"},e))},A=a(305),H=a.n(A),z=a(306),V=a(173),U=a(129),W={type:"object",properties:{jsonrpc:{type:"string",enum:["2.0"],description:"JSON-RPC version string"},id:{description:"unique identifier for the JSON-RPC request",oneOf:[{type:"string"},{type:"number"}]},method:{type:"string"}}},G=function(e){return e?{type:"object",properties:{id:Object(U.a)({},W.properties.id),jsonrpc:Object(U.a)({},W.properties.jsonrpc),method:{type:"string",oneOf:e&&e.methods&&e.methods.map((function(e){return{const:e.name,description:e.description||e.summary,markdownDescription:e.description||e.summary}}))}},allOf:e&&e.methods&&e.methods.map((function(e){return{if:{properties:{method:{const:e.name}}},then:{properties:{params:{oneOf:[{type:"array",minItems:e.params&&e.params.filter((function(e){return e.required})).length,maxItems:e.params&&e.params.length,defaultSnippets:e.examples?e.examples.map((function(e){return{label:e.name,description:e.description||e.summary,body:e.params&&e.params.map((function(e){return e.value}))}})):[],items:e.params&&e.params.map((function(e){return Object(U.a)(Object(U.a)({},e.schema),{},{markdownDescription:e.description||e.summary,description:e.description||e.summary,additionalProperties:!1})}))},{type:"object",properties:e.params&&e.params.reduce((function(e,t){return e[t.name]=Object(U.a)(Object(U.a)({},t.schema),{},{markdownDescription:t.description||t.summary,description:t.description||t.summary,additionalProperties:!1}),e}),{})}]}}}}}))}:W},K={type:"object",properties:{jsonrpc:{type:"string",description:"JSON-RPC Version String",const:"2.0"},id:{oneOf:[{type:"string"},{type:"number"}]}}},Q=function(e,t){if(!t)return K;var a,n=t.methods.find((function(t){return t.name===e}));return void 0!==n&&void 0!==n.result&&(a=n.result.schema),{type:"object",properties:{id:Object(U.a)({},K.properties.id),jsonrpc:Object(U.a)({},K.properties.jsonrpc),result:Object(U.a)(Object(U.a)({},a),{},{markdownDescription:(null===n||void 0===n?void 0:n.description)||(null===n||void 0===n?void 0:n.summary),description:(null===n||void 0===n?void 0:n.description)||(null===n||void 0===n?void 0:n.summary)})}}},X=function(e,t){var a=t.palette.type;return e.payload.error?{backgroundColor:t.palette.error[a]}:{}},Y=Object(R.a)((function(e){return Object(q.a)({cardHeader:{padding:"8px",paddingBottom:"0px",paddingTop:"0px"},cardContent:{padding:"8px !important"}})})),Z=i.a.memo((function(e){var t,a=Object(g.a)(),n=(t=e.log).method.includes("rpc.")?"call rpc-call":"response"===t.type?t.payload.error?"call response-error":"call response-success":"call request",r=Object(o.useState)(!1),l=Object(c.a)(r,2),s=l[0],p=l[1],m=Object(o.useState)(),u=Object(c.a)(m,2),d=u[0],f=u[1],h=Y(),R=Object(o.useState)(170),q=Object(c.a)(R,2),P=q[0],L=q[1],M=Object(o.useRef)(),F=Object(o.useCallback)((function(){var e=M.current.getValue().split("\n").length;if(e>=3){var t=20*e;300>t&&L(t)}}),[]);Object(o.useEffect)((function(){if(void 0!==d){var t;t="request"===e.log.type?G(e.openrpcDocument):Q(e.log.method,e.openrpcDocument);var a=e.openrpcDocument&&e.openrpcDocument.info?e.openrpcDocument.info.title:"inspector",n="inmemory://".concat(a,"-").concat(Math.random(),".json"),r=V.Uri.parse(n),o=V.editor.createModel(JSON.stringify(e.log.payload,null,2)||"","json",r);d.setModel(o),Object(z.addDiagnostics)(r.toString(),t,V),M.current=d,F()}}),[e.openrpcDocument,d]);return i.a.createElement(v.a,{m:2,key:JSON.stringify(e.log),className:["call-box","".concat("response"===e.log.type?"response":""),"".concat(e.filter.includes(e.log.method)||e.filter.includes("all")?"":"hidden")].join(" ")},i.a.createElement(j.a,{open:s,autoHideDuration:4e3,onClose:function(){p(!1)}},i.a.createElement(T,{severity:"success"},"Payload Copied to Clipboard")),i.a.createElement(O.a,{raised:!0,className:n,style:X(e.log,a),elevation:8},i.a.createElement(E.a,{title:e.log.method,action:i.a.createElement(b,{log:e.log}),subheader:i.a.createElement(w.a,{variant:"caption",color:"textSecondary"},Object(y.a)(new Date,e.log.timestamp))}),i.a.createElement(D.a,{className:h.cardContent},e.log.batchId?i.a.createElement(w.a,null,"Batch: ",e.log.batchId):null,i.a.createElement(S.a,{defaultExpanded:!0},i.a.createElement(k.a,{expandIcon:i.a.createElement(I.a,null)},i.a.createElement(C.a,{title:"Copy to clipboard"},i.a.createElement(N.a,{onClick:function(t){return function(e,t){e.stopPropagation(),p(!0),H()(JSON.stringify(t,null,4))}(t,e.log.payload)},endIcon:i.a.createElement(B.a,{style:{fontSize:14}})},"Payload"))),i.a.createElement(x.a,{style:{margin:0,padding:0}},i.a.createElement(J.a,{width:"100%",height:P,language:"json",value:JSON.stringify(e.log.payload,null,4),editorDidMount:function(e,t){f(t)},editorOptions:{automaticLayout:!0,useShadows:!1,glyphMargin:!1,overviewRulerBorder:!1,showFoldingControls:"always",minimap:{enabled:!1},hideCursorInOverviewRuler:!0,scrollbar:{useShadows:!1,scrollByPage:!1},scrollBeyondLastLine:!1,lineNumbers:"off",fixedOverflowWidgets:!0,readOnly:!0}}))))))})),$=(a(410),function(e){return i.a.createElement(i.a.Fragment,null,e.logs.map((function(t,a){return e.logs.length-1===a?i.a.createElement(Z,{openrpcDocument:e.openrpcDocument,log:t,filter:e.filter,open:!0}):i.a.createElement(Z,{openrpcDocument:e.openrpcDocument,log:t,filter:e.filter,open:!1})})))}),_=a(25),ee=a(151),te=a(181),ae=a(468),ne=a(420),re=a(456),oe=a(457),ie=a(458),ce=a(459),le=a(460),se=a(469),pe=a(419),me=a(475),ue=a(461),de=a(462),fe=a(470),ge=a(310),he=a.n(ge),be=a(246),ye=a.n(be),ve=a(247),je=a.n(ve),Oe=Object(R.a)((function(e){return Object(q.a)({modal:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:400,padding:"4 8 6"},drawer:{overflow:"hidden",width:200,flexShrink:0},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"space-between"},drawerPaper:{width:200,position:"static"}})})),Ee=function(e,t){var a,n=Object(te.a)(e);try{var r=function(){var e=a.value;if(t.length===e.length&&t.every((function(t){return e.includes(t)})))return{v:!0}};for(n.s();!(a=n.n()).done;){var o=r();if("object"===typeof o)return o.v}}catch(i){n.e(i)}finally{n.f()}return!1},we=function(e){var t=Object(o.useState)([]),a=Object(c.a)(t,2),n=a[0],r=a[1],l=Object(o.useState)([]),s=Object(c.a)(l,2),p=s[0],m=s[1],u=function(e){var t,a=[],n=Object(te.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;Ee(a,[r.method])||a.push([r.method])}}catch(o){n.e(o)}finally{n.f()}return a}(e.logs),d=Object(o.useState)(!1),f=Object(c.a)(d,2),g=f[0],h=f[1],b=Oe(),y=[["all"]].concat(Object(ee.a)(u),Object(ee.a)(n)),v=function(e,t){if(t)return m((function(t){return[].concat(Object(ee.a)(t),[e.target.value])}));var a=Object(ee.a)(p),n=a.indexOf(e.target.value);return n>-1?(a.splice(n,1),m(Object(ee.a)(a))):void 0};return i.a.createElement("div",null,i.a.createElement(ae.a,{className:b.drawer,variant:"persistent",anchor:e.alignment,open:e.isDrawerOpen,classes:{paper:b.drawerPaper}},i.a.createElement("div",{className:b.drawerHeader},i.a.createElement(w.a,{style:{paddingLeft:"15px",userSelect:"none"},color:"primary"},"Filter"),i.a.createElement(ne.a,{onClick:e.closeDrawer},"left"===e.alignment?i.a.createElement(ye.a,null):i.a.createElement(je.a,null))),i.a.createElement(re.a,null),i.a.createElement(oe.a,null,y.map((function(t){return i.a.createElement(ie.a,{button:!0,key:t.join(" "),onClick:function(){return e.select(t)},selected:e.active.join("")===t.join("")},i.a.createElement(ce.a,null,t.join(", ")))})),i.a.createElement("div",{style:u.length>2?{}:{display:"none"}},i.a.createElement(ie.a,{button:!0,onClick:function(){h(!0)}},i.a.createElement(le.a,null,i.a.createElement(he.a,null)),i.a.createElement(ce.a,null,"add new filter"))))),i.a.createElement(se.a,{open:g,onClose:function(){h(!1),m([])},"aria-labelledby":"modal-label"},i.a.createElement(pe.a,{className:b.modal},i.a.createElement(me.a,null,i.a.createElement("h2",{id:"modal-label"},"Select methods you wish to filter by"),i.a.createElement(ue.a,null,u.map((function(e){return i.a.createElement(de.a,{control:i.a.createElement(fe.a,{value:e,key:e.toString(),onChange:v,checked:p.includes(e[0])}),label:e.join(" ")})}))),i.a.createElement(N.a,{variant:"contained",onClick:function(e){if(h(!1),m([]),!Ee(n,p))return r([].concat(Object(ee.a)(n),[p]))}},"Submit")))))},De=Object(R.a)((function(e){return Object(q.a)({logsReact:{display:"flex",width:"100%",height:"100%"},extendDiv:{width:"25px"},hide:{display:"none"},menuButton:{paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:0},content:{width:"100%",height:"auto",overflow:"auto",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},left:{marginLeft:-200},right:{marginRight:-200},contentShift:{width:"calc(100% - ".concat(200,"px)"),transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0,marginRight:0}})})),Se=function(e){var t=Object(o.useRef)(null),a=Object(o.useState)(["all"]),n=Object(c.a)(a,2),r=n[0],l=n[1],s=Object(o.useState)(void 0===e.sidebarOpen||e.sidebarOpen),p=Object(c.a)(s,2),m=p[0],u=p[1],f=void 0!==e.sidebarAlign?e.sidebarAlign:"left",g=void 0!==e.openRecentPayload&&e.openRecentPayload,h=De(),b=function(e){l(e)},y=function(){u(!0)},v=function(){u(!1)},j=function(){t&&null!==t.current&&t.current.scrollIntoView({behavior:"smooth"})};return Object(o.useLayoutEffect)(j,[e.logs]),Object(o.useLayoutEffect)(j,[]),i.a.createElement(i.a.Fragment,null,"left"===f?i.a.createElement("div",{className:h.logsReact},i.a.createElement("div",{className:Object(_.a)(h.extendDiv,m&&h.hide)},i.a.createElement(ne.a,{"aria-label":"open filters",onClick:y,className:h.menuButton},i.a.createElement(je.a,null))),i.a.createElement(we,{logs:e.logs,alignment:f,active:r,select:b,isDrawerOpen:m,closeDrawer:v}),i.a.createElement("div",{className:Object(_.a)(h.content,h.left,Object(d.a)({},h.contentShift,m))},i.a.createElement($,{logs:e.logs,filter:r,openRecentPayload:g}),i.a.createElement("div",{ref:t}))):i.a.createElement("div",{className:h.logsReact},i.a.createElement("div",{className:Object(_.a)(h.content,h.right,Object(d.a)({},h.contentShift,m))},i.a.createElement($,{logs:e.logs,filter:r,openRecentPayload:g,openrpcDocument:e.openrpcDocument}),i.a.createElement("div",{ref:t})),i.a.createElement(we,{logs:e.logs,alignment:f,active:r,select:b,isDrawerOpen:m,closeDrawer:v}),i.a.createElement("div",{className:Object(_.a)(h.extendDiv,m&&h.hide)},i.a.createElement(ne.a,{"aria-label":"open filters",onClick:y,className:h.menuButton},i.a.createElement(ye.a,null)))))},ke=0,Ce=function(e){try{var t=JSON.parse(e);if(t){if(t.length>0){var a,n=Object(te.a)(t);try{for(n.s();!(a=n.n()).done;){if(!("jsonrpc"in a.value))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}return"jsonrpc"in t}return!1}catch(o){return!1}},Ne=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],r=function(e){var t,a=null===(t=e.request.postData)||void 0===t?void 0:t.text;e.getContent((function(t){if(e.request&&e.request.url&&a&&Ce(a)&&Ce(t)){var r=JSON.parse(a),o=[],i=[];if(r.length){var l,s=Object(te.a)(r);try{for(s.s();!(l=s.n()).done;){var p=Object(c.a)(l.value,1)[0];o.push({type:"request",method:p.method,timestamp:new Date(e.startedDateTime),payload:p,batchId:ke})}}catch(y){s.e(y)}finally{s.f()}ke+=1}else o.push({type:"request",method:r.method,timestamp:new Date(e.startedDateTime),payload:r});var m=new Date(e.startedDateTime),u=JSON.parse(t);if(m.setMilliseconds(m.getMilliseconds()+e.time),u.length){var d,f=Object(te.a)(u);try{for(f.s();!(d=f.n()).done;){var g=Object(c.a)(d.value,2),h=g[0],b=g[1];i.push({type:"response",method:r[h].method,timestamp:m,payload:b,batchId:ke})}}catch(y){f.e(y)}finally{f.f()}ke+=1}else i.push({type:"response",method:r.method,timestamp:m,payload:u});n((function(e){return[].concat(Object(ee.a)(e),o,i)}))}}))};return Object(o.useEffect)((function(){return chrome&&chrome.webRequest&&chrome.devtools.network.onRequestFinished.addListener(r),function(){chrome&&chrome.webRequest&&chrome.devtools.network.onRequestFinished.removeListener(r)}}),[]),[a,n]},xe=function(){var e=Ne(),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(p.a)("(prefers-color-scheme: dark)"),m=i.a.useMemo((function(){return u(r)}),[r]);return Object(o.useEffect)((function(){var e=r?"vs-dark":"vs";V.editor.setTheme(e)}),[r,m]),Object(o.useEffect)((function(){if(chrome&&chrome.devtools&&chrome.devtools.panels)chrome.devtools.panels.create("JSONRPCLogger","","index.html",(function(e){}));else{var e=[{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"response",method:"foo",payload:{jsonrpc:"2.0",error:{code:1234,message:"potato"}}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"response",method:"foo",payload:{jsonrpc:"2.0",result:"bar"}},{timestamp:new Date,type:"request",method:"foo",payload:{jsonrpc:"2.0",method:"foo"}},{timestamp:new Date,type:"request",method:"potato",payload:{jsonrpc:"2.0",method:"potato"}},{timestamp:new Date,type:"response",method:"longPotato",payload:{jsonrpc:"2.0",result:{foo:"bar",baz:"foo",bar:"baz",listOfNothings:[1,2,3,4,5,6,7,8]}}},{timestamp:new Date,type:"request",notification:!0,method:"potato2",payload:{jsonrpc:"2.0",method:"potato2"}},{timestamp:new Date,type:"response",notification:!0,method:"potato2",payload:{jsonrpc:"2.0",method:"potato2"}}];n(e)}}),[]),i.a.createElement(l.a,{theme:m},i.a.createElement("div",null,i.a.createElement(s.a,null),i.a.createElement(Se,{logs:a,sidebarAlign:"right",openrpcDocument:{methods:[{name:"foo",description:"potato"}]}})))};r.a.render(i.a.createElement(xe,null),document.getElementById("root"))}},[[319,2,3]]]);